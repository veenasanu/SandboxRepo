<?xml version="1.0" encoding="utf-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Horizon_Self_Referral_GPS_Validation</fullName>
    <active>true</active>
    <errorConditionFormula>AND(
   ISPICKVAL(Source__c, 'Self') ,
   ISPICKVAL(ClientName__c  , 'Horizon'),  
   NOT(
       OR(
          Group_PlanSponsor__c = 'Horizon SHBP', 
          Group_PlanSponsor__c = 'Horizon Fully-Insured', 
          Group_PlanSponsor__c = 'Horizon FEP',
          Group_PlanSponsor__c = 'Community Support Program - NO COACH',
       Group_PlanSponsor__c = 'Costco',
       Group_PlanSponsor__c = 'Call Request'
      )
   ),
   ISCHANGED(DialerStatus__c),
   ISPICKVAL(DialerStatus__c , 'Ready')
)</errorConditionFormula>
    <errorDisplayField>Group_PlanSponsor__c</errorDisplayField>
    <errorMessage>The Group Plan Sponsor Must be set to HORIZON SHBP, HORIZON FULLY-INSURED, or HORIZON FEP before dialer status can be set to ready.</errorMessage>
</ValidationRule>
